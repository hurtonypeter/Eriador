@model List<Eriador.Models.Data.Entity.MenuItem>

<ul class="nav navbar-nav">
    @foreach (var item in Model)
    {
        if (item.Children != null && item.Children.Any())
        {
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">@item.Title <span class="caret"></span></a>
            
                    <ul class="dropdown-menu" role="menu">
                        @foreach (var child in item.Children)
                        {
                            <li>
                                <a href="@child.Route">@child.Title</a>
                            </li>
                        }
                    </ul>
            
            </li>
        }
        else
        {
            <li>
                <a href="@item.Route">@item.Title</a>
            </li>
        }
    }
</ul>